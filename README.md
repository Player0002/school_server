# School_Server
###전국 초, 중, 고 학교 급식 API

 전국에 있는 초 중 고등학교 대상이며, 
 각 학교명을 통해 나이스 코드를 찾고, 
 나이스 홈페이지를 긁어오는 방식으로 작동합니다.
 
 데이터는 DB에 저장되어있으며 따로 올려두겠습니다.
 
 Nodejs 를 배우면서 진행한것이고, 아직 비동기처리의 개념이 잡히지 않아 Promise를 사용했다 안했다, 올바르지 않게 사용한 부분이 있을 수 있습니다
 아직 배우는 중이니 그러려니 하면 감사하겠습니다 ><
 
 ```
 http://localhost:3000/router/search?name=학교명
 ```
 
 학교명부분에 학교이름을 적으면 data부분에 학교 정보가 나오게 됩니다.
 비슷한 이름을 가지거나, 같은 이름을 가진 학교가 출력됩니다.
 
 ```
 input : http://localhost:3000/router/search?name=대구소프트웨어
 response:
 {
    "success": true,
    "message": "success",
    "errors": null,
    "data": [
        {
            "id": 100000282,
            "address": "대구광역시 달성군 구지면 창리로11길 93",
            "code": "D100000282",
            "name": "대구소프트웨어고등학교",
            "type": "D",
            "type2": "high"
        }
    ]
}
```

```
http://localhost:3000/router/bab?schCode=(학교 코드)&schType=(초 2, 중 3, 고 4)&type=(아침 1, 점심 2, 저녁 3)&where=세부주소&when=날짜
```

각 날짜별로 type의 급식을 가져옵니다. 단 날짜의 형식은 (yyyy.MM.dd)를 지킵니다 
ex) 2019년 12월 18일 -> 2019.12.18
    2019년 6월 2일 -> 2019.06.02

```
input : http://localhost:3000/router/bab?schCode=D100000282&schType=4&type=3&where=대구광역시 달성군&when=2019.12.18
response :
[
    "물만두국31.5.6.9.10.13.",
    "지코바숯불치킨5.6.12.13.15.",
    "푸팟퐁커리1.2.5.6.8.13.",
    "배추김치(석)9.",
    "현미밥",
    ""
]
```

```
http://localhost:3000/router/result?name=학교명&when=날짜&address=주소
```

그학교의 해당날짜의 아침, 점심, 저녁을 반환합니다. +2019.12.18 10:35pm 기준 address가 추가되었습니다.
중복되는 학교명이 존재하여 그 학교의 주소를 같이 받는 식으로 해결했습니다.

```
input : http://localhost:3000/router/result?name=대구소프트웨어고등학교&when=2019.12.18&address=대구광역시 달성군 구지면 창리로11길 93
response:
{
    "breakfast": [
        "영양닭죽3(찹쌀있음)9.15.",
        "배추김치(조)9.",
        "브레드푸딩1.2.6.13.",
        "코코볼시리얼+우유1.2.5.6.9.13.",
        ""
    ],
    "lunch": [
        "현미밥",
        "김치나베우동31.5.6.9.13.",
        "갈치무감자조림5.6.",
        "수제치킨베이크1.2.5.6.10.12.13.15.",
        "깻잎김치(완)9.13.",
        ""
    ],
    "dinner": [
        "물만두국31.5.6.9.10.13.",
        "지코바숯불치킨5.6.12.13.15.",
        "푸팟퐁커리1.2.5.6.8.13.",
        "배추김치(석)9.",
        "현미밥",
        ""
    ]
}
```